UPDATE CXP_OPS_MONITORING.CXP_STORE_SUPPORT_RULE_AYS_NP
SET 
    JSON_PATH_VALUE = 'orderDetails{}.portIn', -- Ensure we check the correct field
    OPERATOR = 'NOT_EQUALS',                   -- Use the new operator
    EXPECTED_VALUE = 'A',                      -- The "Good" status
    RULE_ACTION = 'STOP',                      -- Stop if it is NOT 'A'
    RULE_TYPE = 'TEMPLATE_RESPONSE',
    RULE_CONTEXT = 'TEMP_PORT_IN_MSG'
WHERE 
    RULE_NAME = 'portin-check';

COMMIT;


# ... existing EQUALS block ...
            if operator == 'EQUALS':
                # ... existing logic ...
            
            # ðŸŸ¢ ADD THIS NEW BLOCK ðŸŸ¢
            elif operator == 'NOT_EQUALS':
                # Safety: If value is missing or False, treat it as "Not a Port In" (Don't trigger rule)
                if actual_value is None or str(actual_value).lower() in ['false', 'none', '']:
                    return False
                
                # Logic: If value exists (e.g. 'Pending') and is NOT 'A', trigger the rule
                if str(actual_value).strip() != str(expected_value).strip():
                    return True
                
                return False
