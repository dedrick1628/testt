-- 1. Copy the Rules Table
CREATE TABLE CXP_OPS_MONITORING.TEST_CXP_STORE_SUPPORT_RULE_AYS_NP 
AS SELECT * FROM CXP_OPS_MONITORING.CXP_STORE_SUPPORT_RULE_AYS_NP;

-- 2. Copy the Templates Table
CREATE TABLE CXP_OPS_MONITORING.TEST_CXP_STORE_SUPPORT_RESP_TEMPLATE_NP 
AS SELECT * FROM CXP_OPS_MONITORING.CXP_STORE_SUPPORT_RESP_TEMPLATE_NP;


-- 3. Add the Message Template
INSERT INTO CXP_OPS_MONITORING.TEST_CXP_STORE_SUPPORT_RESP_TEMPLATE_NP 
(TEMPLATE_ID, TEMPLATE_NAME, MESSAGE_CONTENT, MESSAGE_TYPE, IS_ACTIVE, CREATED_DATE)
VALUES 
('TEMP_PORT_IN_MSG', 'Port In Review Message', 'Dear User, Port in order found, We will review the port in status and process the activation.', 'INFO', 1, SYSDATE);

-- 4. Add the "Check Port In" Rule
INSERT INTO CXP_OPS_MONITORING.TEST_CXP_STORE_SUPPORT_RULE_AYS_NP 
(RULE_ID, RULE_NAME, RULE_INTENT_TYPE, RULE_TYPE, RULE_STEP_NUMBER, JSON_PATH_VALUE, OPERATOR, EXPECTED_VALUE, RULE_ACTION, RULE_CONTEXT, IS_ACTIVE, CREATED_DATE)
VALUES 
('RULE_300', 'check-is-port-in', 'ACTIVATION', 'TEMPLATE_RESPONSE', 30, 'orderDetails{}.portIn', 'EQUALS', 'True', 'STOP', 'TEMP_PORT_IN_MSG', 1, SYSDATE);

-- 5. Link it to your Flow (Update the previous rule to point to this new one)
-- Assuming 'b2b-customer-check' is where you want to branch off.
UPDATE CXP_OPS_MONITORING.TEST_CXP_STORE_SUPPORT_RULE_AYS_NP
SET RULE_NEXT_STEP = 'RULE_300' 
WHERE RULE_NAME = 'b2b-customer-check' AND RULE_INTENT_TYPE = 'ACTIVATION';


Error starting at line : 39 in command -
INSERT INTO CXP_OPS_MONITORING.TEST_CXP_STORE_SUPPORT_RULE_AYS_NP 
(RULE_ID, RULE_NAME, RULE_INTENT_TYPE, RULE_TYPE, RULE_STEP_NUMBER, JSON_PATH_VALUE, OPERATOR, EXPECTED_VALUE, RULE_ACTION, RULE_CONTEXT, IS_ACTIVE, CREATED_DATE)
VALUES 
('RULE_300', 'check-is-port-in', 'ACTIVATION', 'TEMPLATE_RESPONSE', 30, 'orderDetails{}.portIn', 'EQUALS', 'True', 'STOP', 'TEMP_PORT_IN_MSG', 1, SYSDATE)
Error at Command Line : 40 Column : 150
Error report -
SQL Error: ORA-00904: "CREATED_DATE": invalid identifier

https://docs.oracle.com/error-help/db/ora-00904/00904. 00000 -  "%s: invalid identifier"
*Cause:    The identifier or column name entered was invalid.
*Action:   Ensure the following

More Details :
https://docs.oracle.com/error-help/db/ora-00904/
